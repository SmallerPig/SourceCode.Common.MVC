<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>無標題文件</title>
<link rel="stylesheet" type="text/css" href="simple-Uploader/simple-uploader.css">
<script src="simple-Uploader/simple-uploader.js"></script>
</head>

<body>
	<input type="hidden" id="sss" name="sss"/>

	<div style="position:absolute; width:200px; height: 32px;" id="asd">

    </div>
    
	<script type="text/javascript">
	
/*

	var uploader = simple.uploader.create({
			appendTo:domElement, 			//必填。在指定的html元素容器内创建上传组件，此html元素position值不能是static，上传组件会铺满容器
			url:urlString,					//必填。上传文件的服务器接收路径。服务器端必须以post方式接收文件，文件对应的键值是file0,file1,file2......
			valueBindTo:inputElement,		//必填。在指定的input元素上绑定上传完毕的服务器返回值
			multiple:boolean				//是否支持多文件上传，布尔值，如果不设置，默认值为false;
			limit:{							//上传文件限制条件，这个字段以及其下的任何参数都是可选的，未设置的字段表示没有限制
				fileSizeMin:fileSize(KB),		//上传的单个文件最小文件尺寸，实数，以KB为单位，如果想指定为不限制，填写0
				fileSizeMax:fileSize(KB),		//上传的单个文件最大文件尺寸，实数，以KB为单位，如果想指定为不限制，填写0
				fileFormat:formatString			//上传文件格式，字符串，例如："zip|jpg|png"，如果想指定为任意文件，使用"*"，此字段会作用于一部分浏览器文件选框的格式要求（有些浏览器不支持文件格式筛选），并在追加js验证。
			},
			onEvent:{						//在特定事件下执行的回调函数
				onSelectFile:function,			//用户选择需要上传的文件后执行该函数，两个传入参数：选定的文件列表、limit参数的验证结果。该函数可通过返回false阻止上传，通过返回true忽略验证结果继续上传。
				onProgress:function,			//上传进度有变化时执行的函数，一个传入参数：标准的xhr事件传入参数。
				onError:function,				//发生上传错误时执行的函数，一个传入参数：标准的xhr事件传入参数。
				onCancelWhenUpload:function,	//用户手动取消上传时执行的函数。该函数可通过返回false来阻止用户的取消行为。
				onCancelWhenComplete:function,	//用户手动取消上传完毕的文件时执行的函数。该函数可通过返回false来阻止用户的取消行为。
				onComplete:function				//上传完毕时执行的函数。两个传入值：上传的文件列表、服务器返回字符串。可返回false重置界面至选择文件状态，并阻止组件给valueBindTo的input赋值（服务器端并不任何受影响）。
			},
			uiText:{							//指定ui文字，不设定则使用默认值
				selectFile:"选择文件",
				limit:"文件不符合要求",
				limit_moreInfo:"详情",
				limit_fileSize_main:"当前选择的文件大小不符合要求！",
				limit_fileSize_min:"最小文件尺寸：",
				limit_fileSize_max:"最大文件尺寸：",
				limit_fileSize_fileList:"不符合尺寸要求的文件有：",
				limit_fileFormat_main:"当前选择的文件格式不符合要求！",
				limit_fileFormat_formats:"支持的格式有：",
				limit_fileFormat_fileList:"不符合格式要求的文件有：",
				error:"上传时发生错误",
				error_moreInfo:"详情",
				error_moreInfo_detail:"因络不稳定或服务器未正常响应，上传中断。\n\n请检查你的网络连接和网速是否稳定。",
				complete:"上传完毕",
				complete_moreInfo:"详情",
				complete_moreInfo_main:"文件上传完毕",
				complete_moreInfo_count:"共有文件数量：",
				complete_moreInfo_fileList:"上传的文件有："
			}
		});
	
	uploader.setData();					//设置上传组件参数，参数格式为一个object对象，和simple.uploader.create参数一样，但不支持"appendTo"字段，未被设置的字段将使用原来的值。valueBindTo指向的input元素在下次提交完成时才会被赋值。
	uploader.getData();					//获取上传组件参数，参数格式为一个object对象，和simple.uploader.create参数一样
	uploader.getState();				//获取上传组件当前的状态，返回值为字符串
											//selectFile	可以点击选择文件，初始界面
											//uploading		正在上传文件
											//uploadFail	上传过程出现问题而失败，处在“查看上传错误的界面”
											//uploadSucceed	上传成功
											//uploadLimit	因用户选择的文件不符合limit参数规定的要求而出现错误，处在“查看文件不符合要求的界面”
	uploader.cancel();					//如果正在上传，取消上传。如果已上传完毕，则取消上传并清空valueBindTo的绑定值。如果处于其他状态，则无效。
	
*/



    	aa = simple.uploader.create({
				appendTo:document.getElementById("asd"),
				url: "http://localhost:57344/Home/UpLoadImage",
				valueBindTo:document.getElementById("sss"),
				limit:{
					fileFormat:"jpg|docx|rar|zip"
				},
				uiText:{
					selectFile:"选择文件！！！",
					limit:"没选对文件XXX"
				},
				onEvent:{
					onSelectFile:function(files,limitValidateResult){
							a_onSelectFile_a=files;
							a_onSelectFile_b=limitValidateResult;
						},
					onProgress:function(e){
							a_onProgress_a=e.loaded;
						},
					onError:function(e){
							a_onError_a=e;
						},
					onCancelWhenUpload:function(){
							a_onCancelWhenUpload_a=111;
						},
					onCancelWhenComplete:function(){
							a_onCancelWhenComplete_a=111;
						},
					onComplete:function(files,returnResult){
							a_onComplete_a=files;
							a_onComplete_b=returnResult;
						}
				}
			});
		
		aa.setData({
				multiple:true,
				limit:{
					fileSizeMin:1,
					fileSizeMax:100000000
				}
			});
			
		ab = aa.getData();
    </script>
    
</body>
</html>
